(function(a){a.fn.extend({autoPlayVideo:function(c){var d={source:["demo"],index:0,wrapperClass:"myvideo",before:function(f){},after:function(f){}};c=a.extend({},d,c);var e=a.extend(d,c);this.each(function(){var f=a(this);b(e.source,f);f[0].addEventListener("ended",function(g){b(e.source,f);if(c.after){c.after(e)}})});function b(g,f){var h=g.length;if(e.index>0&&e.index<h){}else{e.index=0}g=g[e.index];var l=g.lastIndexOf(".");var m=g.substr(l,g.length-l);var j=encodeURI(g.replace(m,".ogv"));var k=encodeURI(g.replace(m,".webm"));var i=encodeURI(g.replace(m,".mp4"));if(f[0].canPlayType("video/ogg")){f[0].setAttribute("src",j)}else{if(f.canPlayType("video/webm")){f[0].setAttribute("src",k)}else{if(f.canPlayType("video/mp4")){f[0].setAttribute("src",i)}}}e.index++}}});a.fn.extend({autoPlayVideo:a.fn.autoPlayVideo})})(jQuery);